<div class="row">
    <div class="col-lg-12" style="float:none;margin:auto;">
        <nb-card>
            <nb-card-header style="text-align: center;">Ajout d'un nouveau modèle</nb-card-header>
            <nb-card-body>
                <form #form="ngForm" (ngSubmit)="Ajout(form)">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="inputFirstName" class="label">Titre du modèle</label>
                                <input [(ngModel)]="model.Libelle" nbInput placeholder="Entrer le titre du modèle "
                                    fullWidth #nameInput="ngModel" name="Libelle" type="text" required minlength="2"
                                    maxlength="50">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="inputLastName" class="label">Description du canal</label>

                                <textarea [(ngModel)]="model.Description" name="Description" #nameInput="ngModel"
                                    nbInput fullWidth placeholder="Entrer la description" required
                                    minlength="2"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="inputLastName" class="label">Canal Envoi</label>
                                <select class="form-control"  [(ngModel)]="model.IdCanalEnvoi"
                                    name="IdCanalEnvoi" (change)="onChangeModel($event.target.value)">
                                    <option value="" disabled selected>Veuillez choisir le canal</option>
                                    <option *ngFor="let ndvl of canal" [value]="ndvl.id">
                                        {{ndvl.titre}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <br>
                    <br>
                    <div class="offset-sm-3 col-sm-9">
                        <br>
                        <button type="submit" nbButton status="success" style="float: right;" [disabled]="!form.valid" data-bs-toggle="modal" data-bs-target="#addVariable" (click)="open()"><i class="fa fa-plus"
                                aria-hidden="true" ></i>&nbsp;</button>
                    </div>
                    <br>
                    <br>
                    <div class="row" *ngIf="model.IdCanalEnvoi=='2'">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="inputFirstName" class="label">Contenue du modèle</label>
                                <nb-card>
                                    <nb-card-body>
                                        <ckeditor [config]="{ extraPlugins: 'divarea', height: '220' }"
                                            [(ngModel)]="model.Contenu" name="Contenu" #nameInput="ngModel" required>
                                        </ckeditor>
                                    </nb-card-body>
                                </nb-card>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="model.IdCanalEnvoi=='1'">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="inputFirstName" class="label">Contenue du modèle </label>
                                <textarea [(ngModel)]="model.Contenu" name="Model" #nameInput="ngModel" nbInput
                                    fullWidth placeholder="Entrer le contenu du modèle" required
                                    minlength="2"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="offset-sm-3 col-sm-9">
                            <br>
                            <button type="submit" nbButton status="success" style="float: right;"
                                [disabled]="!form.valid"><i class="fa fa-save"
                                    aria-hidden="true"></i>&nbsp;Enregistrer</button>
                        </div>
                    </div>
                </form>
            </nb-card-body>
        </nb-card>
        <div class="modal modal-danger fade" id="addVariable" tabindex="-1" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title text-center" id="exampleModalLabel" style="text-align: center;">Ajout d'une variable</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p class="text-center">
                <select name="pets" id="pet-select">
                    <option value="">--Veuillez choisir une variable--</option>
                    <option value="dog">Nom</option>
                    <option value="cat">Prénom</option>
                    <option value="hamster">Téléphone</option>
                    <option value="parrot">Adresse</option>
                    <option value="spider">Date de naissance</option>
                </select>
              </p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-warning" data-bs-dismiss="modal">Annuler</button>
              <button type="button" class="btn btn-success" data-bs-dismiss="modal" >Valider</button>
            </div>
          </div>
        </div>
      </div>
    </div>

</div>