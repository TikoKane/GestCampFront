<div class="row">
    <div class="col-lg-12" style="float:none;margin:auto;">
        <nb-card>
            <nb-card-header style="text-align: center;">Ajout d'un nouveau modèle</nb-card-header>
            <nb-card-body>
                <form #form="ngForm" (ngSubmit)="Ajout(form)">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="inputFirstName" class="label">Titre du modèle</label>
                                <input [(ngModel)]="model.Libelle" nbInput placeholder="Entrer le titre du modèle "
                                    fullWidth #nameInput="ngModel" name="Libelle" type="text" required minlength="2"
                                    maxlength="50">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="inputLastName" class="label">Description du canal</label>

                                <textarea [(ngModel)]="model.Description" name="Description" #nameInput="ngModel"
                                    nbInput fullWidth placeholder="Entrer la description" required
                                    minlength="2"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="inputLastName" class="label">Canal Envoi</label>
                                <select class="form-control" id="IdCanalEnvoi" [(ngModel)]="model.IdCanalEnvoi"
                                    name="IdCanalEnvoi" (change)="onChangeModel($event.target.value)">
                                    <option value="" disabled selected>Veuillez choisir le canal</option>
                                    <option *ngFor="let ndvl of canal" [value]="ndvl.id">
                                        {{ndvl.titre}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <br>
                    <br>

                    <div class="row" *ngIf="model.IdCanalEnvoi!='1'">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="inputFirstName" class="label">Contenue du modèle</label>
                                <nb-card>
                                    <nb-card-body>
                                        <ckeditor [config]="{ extraPlugins: 'divarea', height: '220' }"
                                            [(ngModel)]="model.Contenu" name="Contenu" #nameInput="ngModel" required>
                                        </ckeditor>
                                    </nb-card-body>
                                </nb-card>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="model.IdCanalEnvoi=='1'">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="inputFirstName" class="label">Contenue du modèle</label>
                                <nb-card>
                                    <nb-card-body>
                                        <ngx-tiny-mce  [config]="{ extraPlugins: 'divarea', height: '220' }" 
                                        [(ngModel)]="model.Contenu" name="Contenu" #nameInput="ngModel" required>
                                      </ngx-tiny-mce>
                                      </nb-card-body>
                                </nb-card>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="offset-sm-3 col-sm-9">
                            <br>
                            <button type="submit" nbButton status="success" style="float: right;"
                                [disabled]="!form.valid"><i class="fa fa-save"
                                aria-hidden="true"></i>&nbsp;Enregistrer</button>
                        </div>
                    </div>
                </form>
            </nb-card-body>
        </nb-card>

    </div>

</div>